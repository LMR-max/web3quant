# Web3Quant å¤š Agent ä¼˜åŒ–åˆ†ææŠ¥å‘Š

> **ç”Ÿæˆæ—¶é—´**: 2025-01  
> **æ¨¡å‹**: GitHub Models Â· gpt-4o  
> **æ¶æ„**: Fan-out/Fan-inï¼ˆ6 Agent å¹¶è¡Œ â†’ Aggregator æ±‡æ€»ï¼‰  
> **è€—æ—¶**: ~50 ç§’

---

## ç›®å½•

1. [æ‰§è¡Œæ¦‚è¿°](#æ‰§è¡Œæ¦‚è¿°)
2. [Agent 1 â€” Data Qualityï¼ˆæ•°æ®è´¨é‡ï¼‰](#agent-1--data-qualityæ•°æ®è´¨é‡)
3. [Agent 2 â€” Factor Researchï¼ˆå› å­ç ”ç©¶ï¼‰](#agent-2--factor-researchå› å­ç ”ç©¶)
4. [Agent 3 â€” ML Optimizerï¼ˆæœºå™¨å­¦ä¹ ä¼˜åŒ–ï¼‰](#agent-3--ml-optimizeræœºå™¨å­¦ä¹ ä¼˜åŒ–)
5. [Agent 4 â€” Code Reviewï¼ˆä»£ç è´¨é‡ï¼‰](#agent-4--code-reviewä»£ç è´¨é‡)
6. [Agent 5 â€” Backtestï¼ˆå›æµ‹éªŒè¯ï¼‰](#agent-5--backtestå›æµ‹éªŒè¯)
7. [Agent 6 â€” Risk Controlï¼ˆé£é™©æ§åˆ¶ï¼‰](#agent-6--risk-controlé£é™©æ§åˆ¶)
8. [æ±‡æ€»çƒ­åŠ›å›¾](#æ±‡æ€»çƒ­åŠ›å›¾)
9. [è¡ŒåŠ¨è·¯çº¿å›¾](#è¡ŒåŠ¨è·¯çº¿å›¾)

---

## æ‰§è¡Œæ¦‚è¿°

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| å‚ä¸ Agent æ•° | 6 |
| æ€»å‘ç°æ•° | 15+ æ¡ä¼˜åŒ–å»ºè®® |
| æœ€é«˜ä¼˜å…ˆçº§ï¼ˆP1ï¼‰ | 3 æ¡ï¼ˆé£é™©æ§åˆ¶é¢†åŸŸï¼‰ |
| æ¶‰åŠæ¨¡å— | 12+ ä¸ª Python æ¨¡å— |
| API è°ƒç”¨ | 6 æ¬¡ï¼ˆå‡ 200 OKï¼‰ |
| å·¥ä½œæµæ­¥æ•° | 2 superstepsï¼ˆfan-out â†’ aggregateï¼‰ |

### ä¼˜å…ˆçº§å®šä¹‰

| ç­‰çº§ | å«ä¹‰ | è¡ŒåŠ¨ |
|------|------|------|
| P1 | ğŸ”´ ä¸¥é‡/é˜»æ–­ | ç«‹å³ä¿®å¤ |
| P2 | ğŸŸ  é«˜é£é™© | æœ¬å‘¨ä¿®å¤ |
| P3 | ğŸŸ¡ ä¸­ç­‰ | ä¸‹ä¸ªè¿­ä»£ |
| P4 | ğŸ”µ ä½é£é™© | æ’å…¥ Backlog |
| P5 | âšª å»ºè®® | é…Œæƒ…è¯„ä¼° |

---

## Agent 1 â€” Data Qualityï¼ˆæ•°æ®è´¨é‡ï¼‰

**èŒè´£**: å®¡æŸ¥ `crypto_data_system/` æ¨¡å—çš„æ•°æ®å®Œæ•´æ€§ã€ç¼“å­˜ç­–ç•¥ã€æ ¼å¼ä¸€è‡´æ€§ã€‚

**æ‰«æèŒƒå›´**: `crypto_data_system/fetchers/`ã€`crypto_data_system/config.py`ã€`crypto_data_system/data_aggregator.py`ã€`data/cache/`ã€`data_manager_storage/`

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | API æ‹‰å–æ•°æ®æ—¶é—´æˆ³ä¸åŒæ­¥ï¼ˆOHLCV ä¸è®¢å•ç°¿ï¼‰ | `crypto_data_system/fetchers/` | P5 | æ–°å»ºå…¨å±€æ—¶é—´åŒæ­¥æ¨¡å—ï¼ŒæŒ‰äº¤æ˜“æ‰€æ—¶é—´æˆ³å¯¹é½æ‰€æœ‰æ•°æ® |
| 2 | ä¸åŒäº¤æ˜“æ‰€çš„äº¤æ˜“å¯¹æ ¼å¼ä¸è¿”å›æ•°æ®æœªæ ‡å‡†åŒ– | `config.py`ã€`data_aggregator.py` | P4 | æ‰©å±•ç¬¦å·æ˜ å°„é€»è¾‘ï¼Œå»ºç«‹ç‹¬ç«‹æ˜ å°„è¡¨ + æ³›ç”¨ schema éªŒè¯å±‚ |
| 3 | ç¼“å­˜æ— æ˜ç¡®å¤±æ•ˆç­–ç•¥ï¼Œå¯èƒ½äº§ç”Ÿè¿‡æœŸæ•°æ®æ±¡æŸ“ | `data/cache/` | P4 | è®¾è®¡åŸºäº TTL çš„ç¼“å­˜å¤±æ•ˆæœºåˆ¶ï¼ŒæŒ‰å¸‚åœºç±»å‹åŠ¨æ€è°ƒæ•´ç”Ÿå‘½å‘¨æœŸ |
| 4 | æ•°æ®ç‰ˆæœ¬åŒ–å¿«ç…§æœªåŒºåˆ†å¸‚åœºç±»å‹ä¸ç›®æ ‡ç”¨é€” | `data_manager_storage/` | P4 | å¢åŠ å…ƒæ•°æ®å­—æ®µï¼ˆç ”ç©¶ç›®æ ‡/å¸‚åœºç±»å‹ï¼‰ï¼Œæ”¯æŒæŒ‰éœ€å›æ»š |
| 5 | å› å­é¢„å¤„ç†ç¼ºå¤±ï¼ˆæ ‡å‡†åŒ–ã€ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼å¤„ç†ï¼‰ | å› å­æ¨¡å— | P3 | æ·»åŠ å½’ä¸€åŒ–ã€å¡«å……ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼å‰”é™¤ç­‰æ ‡å‡†é¢„å¤„ç†å·¥å…· |
| 6 | ML æ¨¡å‹ç¼ºå°‘åŠ å¯†å¸‚åœºé«˜æ³¢åŠ¨æ€§åŠ¨æ€å› å­è®¾è®¡ | ML æ¨¡å— | P3 | å¼•å…¥ TA-Lib/tsfresh è¿›è¡Œæ—¶åºç‰¹å¾æå–ï¼ŒåŠ å…¥ Transformer ç±»æ¶æ„ |
| 7 | ä»£ç æ¨¡å—è¾¹ç•Œæ¨¡ç³Šï¼Œè€¦åˆåº¦é«˜ | `crypto_data_system/` | P3 | é‡æ„ä¸ºç‹¬ç«‹å·¥å…·å­æ¨¡å—ï¼Œé€šè¿‡ç»Ÿä¸€æ¥å£å±‚ç®¡ç† |
| 8 | å›æµ‹å­˜åœ¨æœªæ¥æ•°æ®æ³„æ¼é£é™©ï¼Œæœªæ¨¡æ‹Ÿæ»‘ç‚¹ä¸äº¤æ˜“æˆæœ¬ | å›æµ‹æ¨¡å— | P5 | å¢åŠ æœªæ¥æ•°æ®ç¦æ­¢æœºåˆ¶ + æ»‘ç‚¹è§„åˆ™ + åŠ¨æ€ä½£é‡‘æ¨¡å‹ |
| 9 | é£é™©æ§åˆ¶æœªè¦†ç›–å¤šçº§é£æ§ç­–ç•¥ | é£æ§æ¨¡å— | P4 | è®¾è®¡è´¦æˆ·çº§ + å¤´å¯¸çº§åŒå±‚é£æ§ç­–ç•¥ |

### å…³é”®ç»“è®º

æ•°æ®å±‚æ˜¯æ•´ä¸ªé‡åŒ–ç³»ç»Ÿçš„åŸºç¡€ã€‚å½“å‰æœ€ç´§è¿«çš„é—®é¢˜æ˜¯ **æ—¶é—´æˆ³å¯¹é½** å’Œ **ç¼“å­˜å¤±æ•ˆç­–ç•¥** â€” å®ƒä»¬ç›´æ¥å½±å“ä¸‹æ¸¸å› å­è®¡ç®—å’Œå›æµ‹çš„å‡†ç¡®æ€§ã€‚å»ºè®®ä¼˜å…ˆæ„å»ºä¸€ä¸ª `TimeSyncModule` ç»Ÿä¸€ç®¡ç†æ‰€æœ‰äº¤æ˜“æ‰€æ•°æ®çš„æ—¶é—´æˆ³ã€‚

---

## Agent 2 â€” Factor Researchï¼ˆå› å­ç ”ç©¶ï¼‰

**èŒè´£**: è¯„ä¼° `alphagen_style/` çš„å› å­å¤šæ ·æ€§ã€DSL çµæ´»æ€§ã€IC è¯„ä¼°æ–¹æ³•å’Œ RL ç¯å¢ƒæ•ˆç‡ã€‚

**æ‰«æèŒƒå›´**: `alphagen_style/dsl.py`ã€`alphagen_style/evaluation.py`ã€`alphagen_style/gym_env.py`ã€`alphagen_style/masking.py`ã€`alphagen_style/rl_env.py`

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | ç¼ºä¹å› å­å¤šæ ·æ€§æ˜¾å¼æ£€æŸ¥ï¼Œæ— æ³•è¦†ç›–ä¸åŒå¸‚åœºä½“åˆ¶ | `dsl.py` å› å­å‡½æ•° | P4 | å®ç°è·¨æ—¶é—´æ¡†æ¶å’Œæˆªé¢å®ä½“çš„å› å­å¤šæ ·æ€§åº¦é‡å·¥å…· |
| 2 | å› å­å†—ä½™ï¼ˆä½æ­£äº¤æ€§ï¼‰ï¼Œé«˜åº¦ç›¸å…³å› å­å®šä¹‰ | `dsl.py`ï¼ˆ`ts_corr`, `cs_corr`ï¼‰ | P3 | é›†æˆ PCA/ICA æ­£äº¤æ€§åˆ†æå·¥å…·ï¼Œåˆ†è§£é‡å ä¿¡å· |
| 3 | æ—  IC/ICIR æ˜¾å¼åŸºå‡†æ–¹æ³•ç”¨äºå› å­è´¨é‡åˆ†æ | `evaluation.py` | P5 | å¼•å…¥æ­£å¼ IC åˆ†æå·¥ä½œæµï¼Œå¯è§†åŒ– IC åˆ†å¸ƒä»¥è¿‡æ»¤ä½æ•ˆå› å­ |
| 4 | RL ç¯å¢ƒ action masking ç¼ºå°‘è¯¦ç»†éªŒè¯ | `gym_env.py`ï¼ˆ`GymMaskedAlphaEnv`ï¼‰ | P4 | æ”¹è¿› masking é€»è¾‘éªŒè¯ï¼Œæ‰©å±•æµ‹è¯•ä»¥æ£€æµ‹ action space ä¸ä¸€è‡´ |
| 5 | ç¼ºå°‘é«˜çº§å› å­ç”Ÿæˆå·¥å…·ï¼ˆNLP åµŒå…¥ã€é“¾ä¸Šæ•°æ®ã€å¾®è§‚ç»“æ„ï¼‰ | `dsl.py` å› å­åˆ›å»ºå‡½æ•° | P3 | é›†æˆåŒºå—é“¾ç‰¹æœ‰ç‰¹å¾ï¼šçŸ¿å·¥æµå‘ã€äº¤æ˜“æ¨¡å¼ã€æµåŠ¨æ€§èšç±» |
| 6 | é«˜é¢‘åŠ å¯†å¸‚åœºæ•°æ®ç¼ºå¤±å¤„ç†ä¸å¤Ÿä¼˜åŒ– | `crypto_data_system/fetchers` + storage | P3 | å¼€å‘é²æ£’æ•°æ®å¡«å……æŠ€æœ¯å’Œå¼‚å¸¸æ£€æµ‹ |
| 7 | RL ç¯å¢ƒè®¡ç®—ç“¶é¢ˆå¯¼è‡´æ‰©å±•æ€§é—®é¢˜ | `gym_env.py` + `rl_env.py` | P3 | å¯¹ RL ç¯å¢ƒè¿›è¡Œ profilingï¼Œèšç„¦ observation å¤„ç†å’Œå¤§ action space æ•ˆç‡ |
| 8 | å› å­åˆ›å»º API æ¨¡å—åŒ–å—é™ï¼Œä¸åˆ©äºå®éªŒå®šåˆ¶ | `dsl.py` API | P3 | é‡æ„ DSL API ä»¥æ”¯æŒæ›´å¥½çš„æ¨¡å—åŒ–å’Œæ³¨å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•° |

### å…³é”®ç»“è®º

å› å­ç ”ç©¶çš„æ ¸å¿ƒç“¶é¢ˆåœ¨äº **æ­£äº¤æ€§ä¸è¶³** å’Œ **IC è¯„ä¼°ä½“ç³»ç¼ºå¤±**ã€‚å»ºè®®ç«‹å³å¼•å…¥å› å­ IC/ICIR åˆ†ææµæ°´çº¿ï¼ˆ`IC â†’ decay analysis â†’ orthogonality matrix`ï¼‰ï¼Œå¹¶åœ¨ RL ç¯å¢ƒä¸­å¢åŠ  profiling ä»¥è¯†åˆ«è®¡ç®—ç“¶é¢ˆã€‚

---

## Agent 3 â€” ML Optimizerï¼ˆæœºå™¨å­¦ä¹ ä¼˜åŒ–ï¼‰

**èŒè´£**: åˆ†æ `machine_learning/` ä¸­çš„æ—¶åºæ³„æ¼ã€ç±»åˆ«å¤±è¡¡ã€è¶…å‚ä¼˜åŒ–å’Œé›†æˆç­–ç•¥ã€‚

**æ‰«æèŒƒå›´**: `machine_learning/train.py`ã€`machine_learning/splits.py`ã€`machine_learning/models.py`ã€`machine_learning/deep_models.py`ã€`machine_learning/features.py`ã€`machine_learning/labels.py`

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | **æ—¶åºæ•°æ®æ³„æ¼é£é™©** | `train.py`ã€`splits.py` | P5 | ä¸¥æ ¼æ‰§è¡Œ `walk_forward_splits`ï¼ŒéªŒè¯æµ‹è¯•æ•°æ®æ—¶é—´æˆ³åœ¨è®­ç»ƒæ•°æ®ä¹‹å |
| 2 | ç±»åˆ«ä¸å¹³è¡¡å¤„ç†æœªæ˜¾å¼å®ç° | `labels.py` | P4 | ä½¿ç”¨ SMOTE / è¿‡é‡‡æ · / class-weight è°ƒæ•´ |
| 3 | è¶…å‚æ•°ä¼˜åŒ–ç¼ºå¤± | `models.py`ã€`deep_models.py`ã€`train.py` | P4 | å¼•å…¥ Optuna / HyperOpt / GridSearchCV è‡ªåŠ¨è°ƒå‚ |
| 4 | é›†æˆç­–ç•¥æœ‰é™ | `train.py`ã€`models.py` | P3 | å¼•å…¥ blendingã€baggingã€boostingï¼ˆLightGBM/CatBoostï¼‰ã€stacking |
| 5 | æ·±åº¦å­¦ä¹ æ¨¡å‹å¯èƒ½æœªå……åˆ†ä¼˜åŒ– | `deep_models.py`ã€`train.py` | P3 | æ·»åŠ æ­£åˆ™åŒ–ï¼ˆdropoutã€weight decayï¼‰ï¼Œæµ‹è¯• GRU/åŒå‘ LSTMï¼Œä½¿ç”¨ AdamW |
| 6 | ç‰¹å¾å·¥ç¨‹å¤šæ ·æ€§ä¸è¶³ | `features.py` | P3 | æ·»åŠ åŠ å¯†å¸‚åœºç‰¹æœ‰ç‰¹å¾ï¼ˆæ³¢åŠ¨ç‡èšç±»ã€é“¾ä¸ŠæŒ‡æ ‡ã€è®¢å•ç°¿ä¸å¹³è¡¡ç­‰ï¼‰ |

### å…³é”®ç»“è®º

ML æ¨¡å—çš„æœ€å¤§é£é™©æ˜¯ **æ—¶åºæ•°æ®æ³„æ¼**ï¼ˆP5ï¼‰ã€‚å½“å‰ `walk_forward_splits` å®ç°éœ€è¦ä¸¥æ ¼å®¡æŸ¥ï¼Œç¡®ä¿æœªæ¥æ•°æ®ç»ä¸è¿›å…¥è®­ç»ƒé›†ã€‚å…¶æ¬¡ï¼Œå»ºè®®å¼•å…¥ Optuna è¿›è¡Œç³»ç»ŸåŒ–è¶…å‚æœç´¢ï¼Œé¢„è®¡å¯æå‡ 5-15% çš„é¢„æµ‹æ€§èƒ½ã€‚

---

## Agent 4 â€” Code Reviewï¼ˆä»£ç è´¨é‡ï¼‰

**èŒè´£**: å®¡æŸ¥ä»£ç å®‰å…¨æ€§ã€ç¡¬ç¼–ç é—®é¢˜ã€å¼‚å¸¸å¤„ç†å’Œå¹¶å‘å®‰å…¨ã€‚

**æ‰«æèŒƒå›´**: `crypto_data_system/config.py`ã€`crypto_data_system/data_aggregator.py`ã€å…¨é¡¹ç›®ä»£ç é£æ ¼

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | ç¡¬ç¼–ç æ–‡ä»¶è·¯å¾„ï¼ˆ`local_secrets.json`ï¼‰ | `config.py` (`DEFAULT_SECRETS_FILE`) | P4 | ä½¿ç”¨ç¯å¢ƒå˜é‡åŠ¨æ€ç¡®å®šè·¯å¾„ï¼Œç¡®ä¿ `.gitignore` æ’é™¤æ•æ„Ÿæ–‡ä»¶ |
| 2 | API key è·å–ç¼ºå°‘é¢å¤–å®‰å…¨æªæ–½ | `config.py` (`APIConfig.__post_init__`) | P5 | ä½¿ç”¨ç§˜å¯†ç®¡ç†æ–¹æ¡ˆï¼ˆAWS Secrets Manager / HashiCorp Vaultï¼‰ï¼Œå®æ–½è½®æ¢ |
| 3 | å¤šæ–¹æ³•ç¼ºå°‘é”™è¯¯å¤„ç† | `config.py`ã€`data_aggregator.py` | P4 | å®ç°ç»“æ„åŒ–å¼‚å¸¸å¤„ç†ï¼ˆFileNotFoundError / æ ¼å¼é”™è¯¯ï¼‰ï¼Œæ·»åŠ è¯¦ç»†æ—¥å¿— |
| 4 | `MarketDataAggregator` å¹¶å‘è®¿é—®å¯èƒ½ç«æ€ | `data_aggregator.py` | P5 | é›†æˆçº¿ç¨‹å®‰å…¨æœºåˆ¶ï¼ˆ`threading.Lock` æˆ– asyncio åŸè¯­ï¼‰ |
| 5 | `_get_resample_rule` ç¼ºå°‘æ— æ•ˆè¾“å…¥å¤„ç† | `data_aggregator.py` | P3 | æ·»åŠ è¾“å…¥éªŒè¯å’Œé”™è¯¯æç¤º |

### å…³é”®ç»“è®º

ä»£ç è´¨é‡é‡ç‚¹åœ¨ **å®‰å…¨æ€§** é¢†åŸŸï¼šAPI key ç®¡ç†æ–¹å¼å’Œå¹¶å‘å®‰å…¨é—®é¢˜æ˜¯ P5 çº§åˆ«ã€‚å»ºè®®ç«‹å³è¿ç§»åˆ°ç¯å¢ƒå˜é‡ + secrets manager çš„æ–¹å¼ç®¡ç†å‡­è¯ï¼Œå¹¶åœ¨æ‰€æœ‰å¤šçº¿ç¨‹æ•°æ®èšåˆæ“ä½œä¸­å¼•å…¥é”æœºåˆ¶ã€‚

---

## Agent 5 â€” Backtestï¼ˆå›æµ‹éªŒè¯ï¼‰

**èŒè´£**: è¯„ä¼°å›æµ‹ä»£ç†çš„æ»‘ç‚¹å»ºæ¨¡ã€è¿‡æ‹Ÿåˆé˜²æŠ¤ã€walk-forward éªŒè¯å’Œæ•°æ®å¿«ç…§ç®¡ç†ã€‚

**æ‰«æèŒƒå›´**: `alphagen_style/dsl.py`ã€`alphagen_style/evaluation.py`ã€`alphagen_style/gym_env.py`ã€`quant_backtest/simple_backtest.py`ã€`crypto_data_system/storage/`

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | æ»‘åŠ¨çª—å£è®¡ç®—æœªè€ƒè™‘é«˜é¢‘æ•°æ®çš„å¯å˜æµåŠ¨æ€§å’Œä¹°å–ä»·å·® | `dsl.py`ï¼ˆts_mean/ts_std/ts_corr ç­‰ï¼‰ | P4 | å¼•å…¥é«˜çº§æµåŠ¨æ€§å»ºæ¨¡ + å¯å˜ä»·å·®è°ƒæ•´ + è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿè®¢å•æ»‘ç‚¹æ–¹å·® |
| 2 | Walk-forward éªŒè¯ç¼ºå°‘é›†æˆå¤„ç†å’ŒåŠ¨æ€ä½“åˆ¶å˜åŒ–ä¼˜åŒ– | `evaluation.py` | P3 | å¢åŠ ä½“åˆ¶æ£€æµ‹æœºåˆ¶ + å¤šä¿¡å·é›†æˆè¯„ä¼° |
| 3 | **è¿‡æ‹Ÿåˆé£é™©**ï¼šä¿¡å·ç”Ÿæˆè¶…å‚æœç´¢ç©ºé—´è¿‡å¤§ | `evaluation.py`ã€`gym_env.py` | P5 | å®æ–½è¶…å‚å‰ªæ / è´å¶æ–¯ä¼˜åŒ– + æ ·æœ¬å¤– blocking dev sets |
| 4 | æ•°æ®å¿«ç…§å¯å¤ç°æ€§ä¾èµ–ä¸´æ—¶é…ç½® | `storage/`ã€`data/` | P4 | å»ºç«‹æ•°æ®ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆDVC / è‡ªå®šä¹‰å¿«ç…§ç®¡ç†ï¼‰ |

### å…³é”®ç»“è®º

å›æµ‹æ¨¡å—çš„æ ¸å¿ƒé—®é¢˜æ˜¯ **è¿‡æ‹Ÿåˆé£é™©**ï¼ˆP5ï¼‰ã€‚å¤§è¶…å‚æœç´¢ç©ºé—´ + ç¼ºå°‘ä¸¥æ ¼çš„æ ·æœ¬å¤–éªŒè¯ = ç­–ç•¥åœ¨å®ç›˜ä¸­å¤§æ¦‚ç‡å¤±æ•ˆã€‚å»ºè®®ç«‹å³ï¼š

1. é™åˆ¶è¶…å‚æœç´¢ç©ºé—´ï¼ˆå‰ªæ / è´å¶æ–¯ä¼˜åŒ–ï¼‰
2. å¼•å…¥ Combinatorial Purged Cross-Validationï¼ˆCPCVï¼‰
3. æ·»åŠ  Overfit Probability æŒ‡æ ‡ï¼ˆOOS Deflated Sharpe Ratioï¼‰

---

## Agent 6 â€” Risk Controlï¼ˆé£é™©æ§åˆ¶ï¼‰

**èŒè´£**: å®¡æŸ¥å‰è§†åå·®ã€å¹¸å­˜è€…åå·®ã€æ­¢æŸé€»è¾‘ã€ä»“ä½ç®¡ç†å’Œæ•°æ®è´¨é‡å¯¹é£æ§çš„å½±å“ã€‚

**æ‰«æèŒƒå›´**: `machine_learning/train.py`ã€`quant_backtest/simple_backtest.py`ã€`crypto_data_system/fetchers/`

### å‘ç°æ±‡æ€»

| # | é—®é¢˜ | ä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---|------|------|--------|------|
| 1 | **æ¨¡å‹è¿‡æ‹Ÿåˆé£é™©** | `models.py`ã€`deep_models.py`ã€`train.py` | **P1** | ä½¿ç”¨ early stopping + äº¤å‰éªŒè¯ + æ­£åˆ™åŒ– + å¯è§£é‡ŠæŒ‡æ ‡ |
| 2 | **æ­¢æŸé€»è¾‘ç¼ºå¤±** | `simple_backtest.py` | **P1** | åœ¨å›æµ‹ä¸­é›†æˆæ­¢æŸæœºåˆ¶ï¼Œæ”¯æŒæ­¢æŸé˜ˆå€¼é…ç½® |
| 3 | **ä»“ä½å¤§å°ç®¡ç†æœªå®šä¹‰** | `simple_backtest.py` | **P1** | å¼•å…¥åŠ¨æ€ä»“ä½ç®¡ç†ï¼ˆç»„åˆä»·å€¼ / é£é™©è°ƒæ•´èµ„æœ¬åˆ†é… / å¤šæ ·åŒ–ï¼‰ |
| 4 | å‰è§†åå·®ï¼ˆLook-ahead biasï¼‰ | `train.py`ï¼ˆwalk_forward_splitsï¼‰ | P2 | ç¡®ä¿æ•°æ®æ‹†åˆ†é€»è¾‘å®Œå…¨é˜»æ­¢æœªæ¥æ•°æ®å½±å“è®­ç»ƒ |
| 5 | å¹¸å­˜è€…åå·®ï¼ˆSurvivorship biasï¼‰ | `fetchers/` | P3 | ç¡®ä¿å†å²æ•°æ®åŒ…å«æ‰€æœ‰å·²é€€å¸‚åŠ å¯†è´§å¸ |
| 6 | æ•°æ®è´¨é‡å’Œç¼ºå¤±å€¼å¤„ç† | `fetchers/`ã€æ•°æ®ç®¡é“ | P3 | æ·»åŠ æ•°æ®è´¨é‡æ£€æŸ¥é—¨æ§ + ç¼ºå¤±å€¼å¤„ç†ç­–ç•¥ |

### å…³é”®ç»“è®º

é£æ§æ¨¡å—æš´éœ²äº† **3 ä¸ª P1 çº§åˆ«ä¸¥é‡é—®é¢˜**ï¼š

1. æ¨¡å‹è¿‡æ‹Ÿåˆæ— ä¿æŠ¤ â†’ å®ç›˜ç»å¯¹ä¼šäºé’±
2. æ— æ­¢æŸ â†’ å•ç¬”äº¤æ˜“å¯èƒ½åƒæ‰å…¨éƒ¨åˆ©æ¶¦
3. æ— ä»“ä½ç®¡ç† â†’ æ— æ³•æ§åˆ¶å•ç¬”é£é™©æš´éœ²

è¿™ä¸‰é¡¹æ˜¯ **é˜»æ–­çº§** é—®é¢˜ï¼Œå»ºè®®åœ¨ä»»ä½•å®ç›˜éƒ¨ç½²ä¹‹å‰ **å¿…é¡»** ä¿®å¤ã€‚

---

## æ±‡æ€»çƒ­åŠ›å›¾

æŒ‰æ¨¡å— Ã— Agent çš„é—®é¢˜åˆ†å¸ƒï¼ˆæ•°å­— = å‘ç°æ•°é‡ï¼Œé¢œè‰² = æœ€é«˜ä¼˜å…ˆçº§ï¼‰ï¼š

| æ¨¡å— | Data Quality | Factor | ML | Code | Backtest | Risk | æ€»è®¡ |
|------|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| `crypto_data_system/` | ğŸŸ  4 | ğŸŸ¡ 1 | â€” | ğŸ”´ 3 | ğŸ”µ 1 | ğŸŸ¡ 2 | **11** |
| `alphagen_style/` | â€” | ğŸŸ¡ 5 | â€” | â€” | ğŸ”´ 3 | â€” | **8** |
| `machine_learning/` | ğŸŸ¡ 2 | â€” | ğŸ”´ 6 | â€” | â€” | ğŸ”´ 2 | **10** |
| `quant_backtest/` | ğŸ”´ 1 | â€” | â€” | â€” | ğŸŸ¡ 1 | ğŸ”´ 2 | **4** |
| å…¶ä»–ï¼ˆæ•°æ®/ç¼“å­˜/é…ç½®ï¼‰ | ğŸŸ¡ 2 | ğŸŸ¡ 2 | ğŸŸ¡ 1 | ğŸŸ¡ 2 | ğŸŸ¡ 1 | ğŸŸ¡ 1 | **9** |

> ğŸ”´ = å« P1/P5 ä¸¥é‡é—®é¢˜ | ğŸŸ  = å« P2/P4 é—®é¢˜ | ğŸŸ¡ = P3 ä¸­ç­‰ | ğŸ”µ = P4 ä½é£é™©

---

## è¡ŒåŠ¨è·¯çº¿å›¾

### ğŸ”´ é˜¶æ®µ 1 â€” ç«‹å³ä¿®å¤ï¼ˆ1-2 å‘¨ï¼‰

| åºå· | ä»»åŠ¡ | æ¥æº Agent | é¢„ä¼°å·¥æ—¶ |
|------|------|-----------|---------|
| 1 | åœ¨ `simple_backtest.py` ä¸­å®ç°æ­¢æŸé€»è¾‘ | Risk Control | 4h |
| 2 | æ·»åŠ åŠ¨æ€ä»“ä½ç®¡ç†æ¨¡å— | Risk Control | 8h |
| 3 | å®¡æŸ¥ `walk_forward_splits` æ¶ˆé™¤å‰è§†åå·® | ML + Risk | 4h |
| 4 | å¯¹ ML/DL æ¨¡å‹æ·»åŠ  early stopping + æ­£åˆ™åŒ– | ML + Risk | 6h |
| 5 | ä¿®å¤ `data_aggregator.py` å¹¶å‘å®‰å…¨é—®é¢˜ | Code Review | 4h |

### ğŸŸ  é˜¶æ®µ 2 â€” æœ¬å‘¨/ä¸‹å‘¨ï¼ˆ2-4 å‘¨ï¼‰

| åºå· | ä»»åŠ¡ | æ¥æº Agent | é¢„ä¼°å·¥æ—¶ |
|------|------|-----------|---------|
| 6 | è¿ç§» API key åˆ°ç¯å¢ƒå˜é‡ / secrets manager | Code Review | 4h |
| 7 | å»ºç«‹ IC/ICIR å› å­è¯„ä¼°æµæ°´çº¿ | Factor Research | 8h |
| 8 | å¼•å…¥ Optuna / HyperOpt è¶…å‚æ•°ä¼˜åŒ– | ML Optimizer | 6h |
| 9 | å®æ–½ç¼“å­˜ TTL å¤±æ•ˆç­–ç•¥ | Data Quality | 4h |
| 10 | æ·»åŠ æ—¶é—´æˆ³å…¨å±€å¯¹é½æ¨¡å— | Data Quality | 6h |

### ğŸŸ¡ é˜¶æ®µ 3 â€” ä¸‹ä¸ªè¿­ä»£ï¼ˆ1-2 æœˆï¼‰

| åºå· | ä»»åŠ¡ | æ¥æº Agent | é¢„ä¼°å·¥æ—¶ |
|------|------|-----------|---------|
| 11 | å®ç°å› å­æ­£äº¤æ€§åˆ†æï¼ˆPCA/ICAï¼‰ | Factor Research | 8h |
| 12 | å›æµ‹å¼•å…¥è’™ç‰¹å¡æ´›æ»‘ç‚¹æ¨¡æ‹Ÿ | Backtest | 8h |
| 13 | é›†æˆ LightGBM/CatBoost é›†æˆç­–ç•¥ | ML Optimizer | 6h |
| 14 | é‡æ„ DSL API æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å› å­æ³¨å…¥ | Factor Research | 12h |
| 15 | æ·»åŠ é“¾ä¸Šæ•°æ®ç‰¹å¾ï¼ˆçŸ¿å·¥æµå‘ã€äº¤æ˜“æ¨¡å¼ï¼‰ | Factor Research | 16h |

### é¢„ä¼°æ€»å·¥æ—¶

| é˜¶æ®µ | å·¥æ—¶ |
|------|------|
| é˜¶æ®µ 1ï¼ˆé˜»æ–­çº§ï¼‰ | ~26h |
| é˜¶æ®µ 2ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰ | ~28h |
| é˜¶æ®µ 3ï¼ˆæ”¹è¿›çº§ï¼‰ | ~50h |
| **æ€»è®¡** | **~104h** |

---

## é™„å½•ï¼šAgent é…ç½®

| Agent | ç³»ç»Ÿæç¤ºæ‘˜è¦ | æ‰«ææ¨¡å— |
|-------|-------------|---------|
| `data_quality` | æ•°æ®å®Œæ•´æ€§ã€ç¼“å­˜ç­–ç•¥ã€æ ¼å¼ä¸€è‡´æ€§ | `crypto_data_system/`ã€`data/`ã€`data_manager_storage/` |
| `factor_research` | å› å­å¤šæ ·æ€§ã€DSLçµæ´»æ€§ã€ICè¯„ä¼°ã€RLæ•ˆç‡ | `alphagen_style/` |
| `ml_optimizer` | æ—¶åºæ³„æ¼ã€ç±»åˆ«å¤±è¡¡ã€è¶…å‚ä¼˜åŒ–ã€é›†æˆç­–ç•¥ | `machine_learning/` |
| `code_review` | å®‰å…¨æ€§ã€ç¡¬ç¼–ç ã€å¼‚å¸¸å¤„ç†ã€å¹¶å‘å®‰å…¨ | å…¨é¡¹ç›®ä»£ç  |
| `backtest` | æ»‘ç‚¹å»ºæ¨¡ã€è¿‡æ‹Ÿåˆã€walk-forwardã€å¿«ç…§ç®¡ç† | `alphagen_style/`ã€`quant_backtest/` |
| `risk_control` | å‰è§†åå·®ã€å¹¸å­˜è€…åå·®ã€æ­¢æŸã€ä»“ä½ç®¡ç† | `machine_learning/`ã€`quant_backtest/`ã€`fetchers/` |

---

*æŠ¥å‘Šç”± Web3Quant Multi-Agent Optimization System v1.0 è‡ªåŠ¨ç”Ÿæˆ*  
*å¦‚éœ€é‡æ–°è¿è¡Œ: `python agents/main.py --cli`*
